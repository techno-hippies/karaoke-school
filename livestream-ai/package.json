{
  "name": "livestream-ai",
  "version": "0.1.0",
  "devDependencies": {
    "@types/bun": "latest",
    "concurrently": "^9.1.0"
  },
  "private": true,
  "scripts": {
    "dev": "bun run dev:all",
    "dev:tts": "cd services/tts && bun dev",
    "dev:browser": "cd services/browser && bun dev",
    "dev:orchestrator": "cd services/orchestrator && bun dev",
    "dev:web": "python3 -m http.server 8080",
    "dev:audio": "bun --env-file=.env.local audio-player-v2.ts",
    "cleanup": "lsof -ti:3030,3031,3032,3033,8080 2>/dev/null | xargs -r kill -9 2>/dev/null || true; pkill -f \"audio-player-v2.ts\" 2>/dev/null || true; pkill -f \"--client-name=livestream-ai-tts\" 2>/dev/null || true",
    "audio:setup": "pactl load-module module-null-sink sink_name=TTS_Output sink_properties=device.description=TTS_Output 2>/dev/null || true; pactl load-module module-remap-source source_name=TTS_Mic master=TTS_Output.monitor source_properties=device.description=TTS_Mic 2>/dev/null || true; pactl set-default-source TTS_Mic",
    "audio:reset": "pactl set-default-sink alsa_output.pci-0000_00_1f.3-platform-skl_hda_dsp_generic.HiFi__hw_sofhdadsp__sink && pactl set-default-source alsa_input.pci-0000_00_1f.3-platform-skl_hda_dsp_generic.HiFi__hw_sofhdadsp__source && pactl unload-module module-remap-source 2>/dev/null || true && pactl unload-module module-null-sink 2>/dev/null || true",
    "dev:all": "bun run cleanup && concurrently \"bun run dev:tts\" \"bun run dev:browser\" \"bun run dev:orchestrator\" \"bun run dev:web\" \"bun run dev:audio\"",
    "karaoke": "cd services/orchestrator && bun src/flows/karaoke.ts",
    "play": "bun play-karaoke.ts",
    "stream": "bun run cleanup; bun run audio:setup && concurrently \"bun run dev:tts\" \"bun run dev:browser\" \"bun run dev:orchestrator\" \"bun run dev:web\" \"bun run dev:audio\" \"sleep 5 && bun play-karaoke.ts\"; bun run audio:reset"
  },
  "workspaces": [
    "packages/*",
    "services/*"
  ]
}
