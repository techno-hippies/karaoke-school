{"abi":[{"type":"function","name":"emitLineRegistered","inputs":[{"name":"segmentHash","type":"bytes32","internalType":"bytes32"},{"name":"lineId","type":"bytes32","internalType":"bytes32"},{"name":"spotifyTrackId","type":"string","internalType":"string"},{"name":"lineIndex","type":"uint16","internalType":"uint16"},{"name":"startMs","type":"uint32","internalType":"uint32"},{"name":"endMs","type":"uint32","internalType":"uint32"},{"name":"originalText","type":"string","internalType":"string"},{"name":"wordCount","type":"uint8","internalType":"uint8"},{"name":"metadataUri","type":"string","internalType":"string"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"emitLineUpdated","inputs":[{"name":"lineId","type":"bytes32","internalType":"bytes32"},{"name":"startMs","type":"uint32","internalType":"uint32"},{"name":"endMs","type":"uint32","internalType":"uint32"},{"name":"originalText","type":"string","internalType":"string"},{"name":"wordCount","type":"uint8","internalType":"uint8"},{"name":"metadataUri","type":"string","internalType":"string"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"getLineId","inputs":[{"name":"uuidBytes","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"stateMutability":"pure"},{"type":"event","name":"LineRegistered","inputs":[{"name":"segmentHash","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"lineId","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"spotifyTrackId","type":"string","indexed":false,"internalType":"string"},{"name":"lineIndex","type":"uint16","indexed":false,"internalType":"uint16"},{"name":"startMs","type":"uint32","indexed":false,"internalType":"uint32"},{"name":"endMs","type":"uint32","indexed":false,"internalType":"uint32"},{"name":"originalText","type":"string","indexed":false,"internalType":"string"},{"name":"wordCount","type":"uint8","indexed":false,"internalType":"uint8"},{"name":"metadataUri","type":"string","indexed":false,"internalType":"string"},{"name":"registeredBy","type":"address","indexed":true,"internalType":"address"},{"name":"timestamp","type":"uint64","indexed":false,"internalType":"uint64"}],"anonymous":false},{"type":"event","name":"LineUpdated","inputs":[{"name":"lineId","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"startMs","type":"uint32","indexed":false,"internalType":"uint32"},{"name":"endMs","type":"uint32","indexed":false,"internalType":"uint32"},{"name":"originalText","type":"string","indexed":false,"internalType":"string"},{"name":"wordCount","type":"uint8","indexed":false,"internalType":"uint8"},{"name":"metadataUri","type":"string","indexed":false,"internalType":"string"},{"name":"timestamp","type":"uint64","indexed":false,"internalType":"uint64"}],"anonymous":false}],"bytecode":{"object":"0x608060405234801561001057600080fd5b50610518806100206000396000f3fe608060405234801561001057600080fd5b50600436106100415760003560e01c80637894346a14610046578063b2c8ef5d1461005b578063c4a453c41461006e575b600080fd5b6100596100543660046101ff565b610093565b005b610059610069366004610304565b6100f8565b61008161007c3660046103b2565b610148565b60405190815260200160405180910390f35b336001600160a01b03168b8d7fd35e108dccef2befbb768c20b9cc2ff6f1c0502cca75626d7e72693ba71e68a98d8d8d8d8d8d8d8d8d8d426040516100e29b9a999897969594939291906103f4565b60405180910390a4505050505050505050505050565b877fef07fc606767cd8fd58b07b71837171fbd5684120ab8dafc5e6da7095aec37ff888888888888884260405161013698979695949392919061047c565b60405180910390a25050505050505050565b60008160405160200161015d91815260200190565b604051602081830303815290604052805190602001209050919050565b60008083601f84011261018c57600080fd5b50813567ffffffffffffffff8111156101a457600080fd5b6020830191508360208285010111156101bc57600080fd5b9250929050565b803561ffff811681146101d557600080fd5b919050565b803563ffffffff811681146101d557600080fd5b803560ff811681146101d557600080fd5b6000806000806000806000806000806000806101208d8f03121561022257600080fd5b8c359b5060208d01359a5067ffffffffffffffff60408e0135111561024657600080fd5b6102568e60408f01358f0161017a565b909a50985061026760608e016101c3565b975061027560808e016101da565b965061028360a08e016101da565b955067ffffffffffffffff60c08e0135111561029e57600080fd5b6102ae8e60c08f01358f0161017a565b90955093506102bf60e08e016101ee565b925067ffffffffffffffff6101008e013511156102db57600080fd5b6102ec8e6101008f01358f0161017a565b81935080925050509295989b509295989b509295989b565b60008060008060008060008060c0898b03121561032057600080fd5b8835975061033060208a016101da565b965061033e60408a016101da565b9550606089013567ffffffffffffffff8082111561035b57600080fd5b6103678c838d0161017a565b909750955085915061037b60808c016101ee565b945060a08b013591508082111561039157600080fd5b5061039e8b828c0161017a565b999c989b5096995094979396929594505050565b6000602082840312156103c457600080fd5b5035919050565b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b6101008152600061040a61010083018d8f6103cb565b61ffff8c16602084015263ffffffff8b811660408501528a166060840152828103608084015261043b81898b6103cb565b905060ff871660a084015282810360c08401526104598186886103cb565b91505067ffffffffffffffff831660e08301529c9b505050505050505050505050565b600063ffffffff808b168352808a1660208401525060c060408301526104a660c08301888a6103cb565b60ff8716606084015282810360808401526104c28186886103cb565b91505067ffffffffffffffff831660a0830152999850505050505050505056fea2646970667358221220bc1f6050dd291f70f301b287073b27bcb44346663577d92327ba2f429d1d96d264736f6c63430008130033","sourceMap":"902:4272:0:-:0;;;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x608060405234801561001057600080fd5b50600436106100415760003560e01c80637894346a14610046578063b2c8ef5d1461005b578063c4a453c41461006e575b600080fd5b6100596100543660046101ff565b610093565b005b610059610069366004610304565b6100f8565b61008161007c3660046103b2565b610148565b60405190815260200160405180910390f35b336001600160a01b03168b8d7fd35e108dccef2befbb768c20b9cc2ff6f1c0502cca75626d7e72693ba71e68a98d8d8d8d8d8d8d8d8d8d426040516100e29b9a999897969594939291906103f4565b60405180910390a4505050505050505050505050565b877fef07fc606767cd8fd58b07b71837171fbd5684120ab8dafc5e6da7095aec37ff888888888888884260405161013698979695949392919061047c565b60405180910390a25050505050505050565b60008160405160200161015d91815260200190565b604051602081830303815290604052805190602001209050919050565b60008083601f84011261018c57600080fd5b50813567ffffffffffffffff8111156101a457600080fd5b6020830191508360208285010111156101bc57600080fd5b9250929050565b803561ffff811681146101d557600080fd5b919050565b803563ffffffff811681146101d557600080fd5b803560ff811681146101d557600080fd5b6000806000806000806000806000806000806101208d8f03121561022257600080fd5b8c359b5060208d01359a5067ffffffffffffffff60408e0135111561024657600080fd5b6102568e60408f01358f0161017a565b909a50985061026760608e016101c3565b975061027560808e016101da565b965061028360a08e016101da565b955067ffffffffffffffff60c08e0135111561029e57600080fd5b6102ae8e60c08f01358f0161017a565b90955093506102bf60e08e016101ee565b925067ffffffffffffffff6101008e013511156102db57600080fd5b6102ec8e6101008f01358f0161017a565b81935080925050509295989b509295989b509295989b565b60008060008060008060008060c0898b03121561032057600080fd5b8835975061033060208a016101da565b965061033e60408a016101da565b9550606089013567ffffffffffffffff8082111561035b57600080fd5b6103678c838d0161017a565b909750955085915061037b60808c016101ee565b945060a08b013591508082111561039157600080fd5b5061039e8b828c0161017a565b999c989b5096995094979396929594505050565b6000602082840312156103c457600080fd5b5035919050565b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b6101008152600061040a61010083018d8f6103cb565b61ffff8c16602084015263ffffffff8b811660408501528a166060840152828103608084015261043b81898b6103cb565b905060ff871660a084015282810360c08401526104598186886103cb565b91505067ffffffffffffffff831660e08301529c9b505050505050505050505050565b600063ffffffff808b168352808a1660208401525060c060408301526104a660c08301888a6103cb565b60ff8716606084015282810360808401526104c28186886103cb565b91505067ffffffffffffffff831660a0830152999850505050505050505056fea2646970667358221220bc1f6050dd291f70f301b287073b27bcb44346663577d92327ba2f429d1d96d264736f6c63430008130033","sourceMap":"902:4272:0:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3433:625;;;;;;:::i;:::-;;:::i;:::-;;4425:424;;;;;;:::i;:::-;;:::i;5012:160::-;;;;;;:::i;:::-;;:::i;:::-;;;3645:25:1;;;3633:2;3618:18;5012:160:0;;;;;;;3433:625;3994:10;-1:-1:-1;;;;;3756:295:0;3809:6;3784:11;3756:295;3829:14;;3857:9;3880:7;3901:5;3920:12;;3946:9;3969:11;;4025:15;3756:295;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;3433:625;;;;;;;;;;;;:::o;4425:424::-;4675:6;4650:192;4695:7;4716:5;4735:12;;4761:9;4784:11;;4816:15;4650:192;;;;;;;;;;;;;:::i;:::-;;;;;;;;4425:424;;;;;;;;:::o;5012:160::-;5097:7;5154:9;5137:27;;;;;;5964:19:1;;6008:2;5999:12;;5835:182;5137:27:0;;;;;;;;;;;;;5127:38;;;;;;5120:45;;5012:160;;;:::o;14:348:1:-;66:8;76:6;130:3;123:4;115:6;111:17;107:27;97:55;;148:1;145;138:12;97:55;-1:-1:-1;171:20:1;;214:18;203:30;;200:50;;;246:1;243;236:12;200:50;283:4;275:6;271:17;259:29;;335:3;328:4;319:6;311;307:19;303:30;300:39;297:59;;;352:1;349;342:12;297:59;14:348;;;;;:::o;367:159::-;434:20;;494:6;483:18;;473:29;;463:57;;516:1;513;506:12;463:57;367:159;;;:::o;531:163::-;598:20;;658:10;647:22;;637:33;;627:61;;684:1;681;674:12;699:156;765:20;;825:4;814:16;;804:27;;794:55;;845:1;842;835:12;860:1438;1022:6;1030;1038;1046;1054;1062;1070;1078;1086;1094;1102:7;1111;1165:3;1153:9;1144:7;1140:23;1136:33;1133:53;;;1182:1;1179;1172:12;1133:53;1218:9;1205:23;1195:33;;1275:2;1264:9;1260:18;1247:32;1237:42;;1328:18;1322:2;1311:9;1307:18;1294:32;1291:56;1288:76;;;1360:1;1357;1350:12;1288:76;1399:85;1476:7;1469:2;1458:9;1454:18;1441:32;1430:9;1426:48;1399:85;:::i;:::-;1503:8;;-1:-1:-1;1530:8:1;-1:-1:-1;1557:37:1;1590:2;1575:18;;1557:37;:::i;:::-;1547:47;;1613:38;1646:3;1635:9;1631:19;1613:38;:::i;:::-;1603:48;;1670:38;1703:3;1692:9;1688:19;1670:38;:::i;:::-;1660:48;;1758:18;1751:3;1740:9;1736:19;1723:33;1720:57;1717:77;;;1790:1;1787;1780:12;1717:77;1829:86;1907:7;1899:3;1888:9;1884:19;1871:33;1860:9;1856:49;1829:86;:::i;:::-;1934:8;;-1:-1:-1;1961:8:1;-1:-1:-1;1988:37:1;2020:3;2005:19;;1988:37;:::i;:::-;1978:47;;2075:18;2068:3;2057:9;2053:19;2040:33;2037:57;2034:77;;;2107:1;2104;2097:12;2034:77;2148:86;2226:7;2218:3;2207:9;2203:19;2190:33;2179:9;2175:49;2148:86;:::i;:::-;2254:9;2243:20;;2283:9;2272:20;;;;860:1438;;;;;;;;;;;;;;:::o;2303:1006::-;2427:6;2435;2443;2451;2459;2467;2475;2483;2536:3;2524:9;2515:7;2511:23;2507:33;2504:53;;;2553:1;2550;2543:12;2504:53;2589:9;2576:23;2566:33;;2618:37;2651:2;2640:9;2636:18;2618:37;:::i;:::-;2608:47;;2674:37;2707:2;2696:9;2692:18;2674:37;:::i;:::-;2664:47;;2762:2;2751:9;2747:18;2734:32;2785:18;2826:2;2818:6;2815:14;2812:34;;;2842:1;2839;2832:12;2812:34;2881:59;2932:7;2923:6;2912:9;2908:22;2881:59;:::i;:::-;2959:8;;-1:-1:-1;2855:85:1;-1:-1:-1;2855:85:1;;-1:-1:-1;3013:37:1;3045:3;3030:19;;3013:37;:::i;:::-;3003:47;;3103:3;3092:9;3088:19;3075:33;3059:49;;3133:2;3123:8;3120:16;3117:36;;;3149:1;3146;3139:12;3117:36;;3188:61;3241:7;3230:8;3219:9;3215:24;3188:61;:::i;:::-;2303:1006;;;;-1:-1:-1;2303:1006:1;;-1:-1:-1;2303:1006:1;;;;;;3268:8;-1:-1:-1;;;2303:1006:1:o;3314:180::-;3373:6;3426:2;3414:9;3405:7;3401:23;3397:32;3394:52;;;3442:1;3439;3432:12;3394:52;-1:-1:-1;3465:23:1;;3314:180;-1:-1:-1;3314:180:1:o;3681:267::-;3770:6;3765:3;3758:19;3822:6;3815:5;3808:4;3803:3;3799:14;3786:43;-1:-1:-1;3874:1:1;3849:16;;;3867:4;3845:27;;;3838:38;;;;3930:2;3909:15;;;-1:-1:-1;;3905:29:1;3896:39;;;3892:50;;3681:267::o;3953:1074::-;4357:3;4346:9;4339:22;4320:4;4384:63;4442:3;4431:9;4427:19;4419:6;4411;4384:63;:::i;:::-;4495:6;4483:19;;4478:2;4463:18;;4456:47;4522:10;4568:15;;;4563:2;4548:18;;4541:43;4620:15;;4615:2;4600:18;;4593:43;4673:22;;;4667:3;4652:19;;4645:51;4719:50;4677:6;4754;4746;4719:50;:::i;:::-;4705:64;;4818:4;4810:6;4806:17;4800:3;4789:9;4785:19;4778:46;4873:9;4865:6;4861:22;4855:3;4844:9;4840:19;4833:51;4901:50;4944:6;4936;4928;4901:50;:::i;:::-;4893:58;;;5001:18;4992:7;4988:32;4982:3;4971:9;4967:19;4960:61;3953:1074;;;;;;;;;;;;;;:::o;5032:798::-;5314:4;5343:10;5392:2;5384:6;5380:15;5369:9;5362:34;5444:2;5436:6;5432:15;5427:2;5416:9;5412:18;5405:43;;5484:3;5479:2;5468:9;5464:18;5457:31;5511:63;5569:3;5558:9;5554:19;5546:6;5538;5511:63;:::i;:::-;5622:4;5614:6;5610:17;5605:2;5594:9;5590:18;5583:45;5677:9;5669:6;5665:22;5659:3;5648:9;5644:19;5637:51;5705:50;5748:6;5740;5732;5705:50;:::i;:::-;5697:58;;;5804:18;5796:6;5792:31;5786:3;5775:9;5771:19;5764:60;5032:798;;;;;;;;;;;:::o","linkReferences":{}},"methodIdentifiers":{"emitLineRegistered(bytes32,bytes32,string,uint16,uint32,uint32,string,uint8,string)":"7894346a","emitLineUpdated(bytes32,uint32,uint32,string,uint8,string)":"b2c8ef5d","getLineId(bytes32)":"c4a453c4"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.19+commit.7dd6d404\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"segmentHash\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"lineId\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"spotifyTrackId\",\"type\":\"string\"},{\"indexed\":false,\"internalType\":\"uint16\",\"name\":\"lineIndex\",\"type\":\"uint16\"},{\"indexed\":false,\"internalType\":\"uint32\",\"name\":\"startMs\",\"type\":\"uint32\"},{\"indexed\":false,\"internalType\":\"uint32\",\"name\":\"endMs\",\"type\":\"uint32\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"originalText\",\"type\":\"string\"},{\"indexed\":false,\"internalType\":\"uint8\",\"name\":\"wordCount\",\"type\":\"uint8\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"metadataUri\",\"type\":\"string\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"registeredBy\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint64\",\"name\":\"timestamp\",\"type\":\"uint64\"}],\"name\":\"LineRegistered\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"lineId\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"uint32\",\"name\":\"startMs\",\"type\":\"uint32\"},{\"indexed\":false,\"internalType\":\"uint32\",\"name\":\"endMs\",\"type\":\"uint32\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"originalText\",\"type\":\"string\"},{\"indexed\":false,\"internalType\":\"uint8\",\"name\":\"wordCount\",\"type\":\"uint8\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"metadataUri\",\"type\":\"string\"},{\"indexed\":false,\"internalType\":\"uint64\",\"name\":\"timestamp\",\"type\":\"uint64\"}],\"name\":\"LineUpdated\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"segmentHash\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"lineId\",\"type\":\"bytes32\"},{\"internalType\":\"string\",\"name\":\"spotifyTrackId\",\"type\":\"string\"},{\"internalType\":\"uint16\",\"name\":\"lineIndex\",\"type\":\"uint16\"},{\"internalType\":\"uint32\",\"name\":\"startMs\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"endMs\",\"type\":\"uint32\"},{\"internalType\":\"string\",\"name\":\"originalText\",\"type\":\"string\"},{\"internalType\":\"uint8\",\"name\":\"wordCount\",\"type\":\"uint8\"},{\"internalType\":\"string\",\"name\":\"metadataUri\",\"type\":\"string\"}],\"name\":\"emitLineRegistered\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"lineId\",\"type\":\"bytes32\"},{\"internalType\":\"uint32\",\"name\":\"startMs\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"endMs\",\"type\":\"uint32\"},{\"internalType\":\"string\",\"name\":\"originalText\",\"type\":\"string\"},{\"internalType\":\"uint8\",\"name\":\"wordCount\",\"type\":\"uint8\"},{\"internalType\":\"string\",\"name\":\"metadataUri\",\"type\":\"string\"}],\"name\":\"emitLineUpdated\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"uuidBytes\",\"type\":\"bytes32\"}],\"name\":\"getLineId\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"pure\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"Emits events for The Graph indexing - NO STORAGE Purpose: - Enable line-by-line study cards for FSRS spaced repetition - Track which lines are within segment boundaries (karaoke-worthy) - Store word-level timing metadata in Grove - Support performance tracking per line (not just per segment) Data Flow: 1. Karaoke pipeline processes lyrics_translations \\u2192 karaoke_lines DB 2. Build line metadata (word timing, translations) \\u2192 Grove 3. Call emitLineRegistered() for each line in segment 4. The Graph indexes events for app queries 5. Frontend queries subgraph for lines \\u2192 FSRS study cards Gas Cost: ~40k per line (minimal on-chain footprint) Storage: Grove/IPFS (word-level timing metadata)\",\"events\":{\"LineRegistered(bytes32,bytes32,string,uint16,uint32,uint32,string,uint8,string,address,uint64)\":{\"params\":{\"endMs\":\"Absolute timing from track start\",\"lineId\":\"Stable UUID from karaoke_lines table (never changes even if re-processed)\",\"lineIndex\":\"0-based position within track (NOT within segment - absolute position)\",\"metadataUri\":\"Grove URI for word-level timing (grove://...)\",\"originalText\":\"Full line text (for display)\",\"registeredBy\":\"Address that registered the line\",\"segmentHash\":\"Parent segment this line belongs to\",\"spotifyTrackId\":\"Spotify track ID (for DB joins)\",\"startMs\":\"Absolute timing from track start (NOT relative to segment)\",\"timestamp\":\"Block timestamp\",\"wordCount\":\"Number of words in line (for difficulty estimation)\"}},\"LineUpdated(bytes32,uint32,uint32,string,uint8,string,uint64)\":{\"params\":{\"endMs\":\"Updated end time\",\"lineId\":\"Stable line UUID\",\"metadataUri\":\"Updated Grove URI\",\"originalText\":\"Updated text\",\"startMs\":\"Updated start time\",\"timestamp\":\"Block timestamp\",\"wordCount\":\"Updated word count\"}}},\"kind\":\"dev\",\"methods\":{\"emitLineRegistered(bytes32,bytes32,string,uint16,uint32,uint32,string,uint8,string)\":{\"details\":\"Anyone can call - no authorization needed\",\"params\":{\"endMs\":\"Line end time (absolute, from track start)\",\"lineId\":\"Stable UUID from karaoke_lines.line_id\",\"lineIndex\":\"0-based line position within full track\",\"metadataUri\":\"Grove URI for word-level timing JSON\",\"originalText\":\"Full line text\",\"segmentHash\":\"Parent segment hash (keccak256(spotifyTrackId, segmentStartMs))\",\"spotifyTrackId\":\"Spotify track ID\",\"startMs\":\"Line start time (absolute, from track start)\",\"wordCount\":\"Number of words\"}},\"emitLineUpdated(bytes32,uint32,uint32,string,uint8,string)\":{\"params\":{\"endMs\":\"Updated end time\",\"lineId\":\"Stable UUID (doesn't change across updates)\",\"metadataUri\":\"Updated Grove URI\",\"originalText\":\"Updated text\",\"startMs\":\"Updated start time\",\"wordCount\":\"Updated word count\"}},\"getLineId(bytes32)\":{\"params\":{\"uuidBytes\":\"UUID as bytes32\"},\"returns\":{\"_0\":\"Line ID (keccak256 of UUID)\"}}},\"title\":\"LineEvents\",\"version\":1},\"userdoc\":{\"events\":{\"LineRegistered(bytes32,bytes32,string,uint16,uint32,uint32,string,uint8,string,address,uint64)\":{\"notice\":\"Emitted when a karaoke line is registered\"},\"LineUpdated(bytes32,uint32,uint32,string,uint8,string,uint64)\":{\"notice\":\"Emitted when a line is updated (re-processed with better timing)\"}},\"kind\":\"user\",\"methods\":{\"emitLineRegistered(bytes32,bytes32,string,uint16,uint32,uint32,string,uint8,string)\":{\"notice\":\"Emit line registration event\"},\"emitLineUpdated(bytes32,uint32,uint32,string,uint8,string)\":{\"notice\":\"Emit line update event (when re-processing improves timing)\"},\"getLineId(bytes32)\":{\"notice\":\"Helper: Generate line ID from Neon DB UUID\"}},\"notice\":\"Event-only contract for line-level karaoke tracking\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/events/LineEvents.sol\":\"LineEvents\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":era-contracts/=lib/era-contracts/\",\":forge-std/=lib/forge-std/src/\"]},\"sources\":{\"src/events/LineEvents.sol\":{\"keccak256\":\"0xb615ed46eebc18c9e2ba8d2ab840828579068f51697a671205ca846f117fcb6f\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://78e443cb0e909e9619878e4e2cb8d833aa99dedb9f38cdc1d71a0c4c8ce0dd56\",\"dweb:/ipfs/QmbzzjAK8p8U9oZfYg28SaGtAmiW1MW9F3jGtfKCuczJy9\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.19+commit.7dd6d404"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"bytes32","name":"segmentHash","type":"bytes32","indexed":true},{"internalType":"bytes32","name":"lineId","type":"bytes32","indexed":true},{"internalType":"string","name":"spotifyTrackId","type":"string","indexed":false},{"internalType":"uint16","name":"lineIndex","type":"uint16","indexed":false},{"internalType":"uint32","name":"startMs","type":"uint32","indexed":false},{"internalType":"uint32","name":"endMs","type":"uint32","indexed":false},{"internalType":"string","name":"originalText","type":"string","indexed":false},{"internalType":"uint8","name":"wordCount","type":"uint8","indexed":false},{"internalType":"string","name":"metadataUri","type":"string","indexed":false},{"internalType":"address","name":"registeredBy","type":"address","indexed":true},{"internalType":"uint64","name":"timestamp","type":"uint64","indexed":false}],"type":"event","name":"LineRegistered","anonymous":false},{"inputs":[{"internalType":"bytes32","name":"lineId","type":"bytes32","indexed":true},{"internalType":"uint32","name":"startMs","type":"uint32","indexed":false},{"internalType":"uint32","name":"endMs","type":"uint32","indexed":false},{"internalType":"string","name":"originalText","type":"string","indexed":false},{"internalType":"uint8","name":"wordCount","type":"uint8","indexed":false},{"internalType":"string","name":"metadataUri","type":"string","indexed":false},{"internalType":"uint64","name":"timestamp","type":"uint64","indexed":false}],"type":"event","name":"LineUpdated","anonymous":false},{"inputs":[{"internalType":"bytes32","name":"segmentHash","type":"bytes32"},{"internalType":"bytes32","name":"lineId","type":"bytes32"},{"internalType":"string","name":"spotifyTrackId","type":"string"},{"internalType":"uint16","name":"lineIndex","type":"uint16"},{"internalType":"uint32","name":"startMs","type":"uint32"},{"internalType":"uint32","name":"endMs","type":"uint32"},{"internalType":"string","name":"originalText","type":"string"},{"internalType":"uint8","name":"wordCount","type":"uint8"},{"internalType":"string","name":"metadataUri","type":"string"}],"stateMutability":"nonpayable","type":"function","name":"emitLineRegistered"},{"inputs":[{"internalType":"bytes32","name":"lineId","type":"bytes32"},{"internalType":"uint32","name":"startMs","type":"uint32"},{"internalType":"uint32","name":"endMs","type":"uint32"},{"internalType":"string","name":"originalText","type":"string"},{"internalType":"uint8","name":"wordCount","type":"uint8"},{"internalType":"string","name":"metadataUri","type":"string"}],"stateMutability":"nonpayable","type":"function","name":"emitLineUpdated"},{"inputs":[{"internalType":"bytes32","name":"uuidBytes","type":"bytes32"}],"stateMutability":"pure","type":"function","name":"getLineId","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}]}],"devdoc":{"kind":"dev","methods":{"emitLineRegistered(bytes32,bytes32,string,uint16,uint32,uint32,string,uint8,string)":{"details":"Anyone can call - no authorization needed","params":{"endMs":"Line end time (absolute, from track start)","lineId":"Stable UUID from karaoke_lines.line_id","lineIndex":"0-based line position within full track","metadataUri":"Grove URI for word-level timing JSON","originalText":"Full line text","segmentHash":"Parent segment hash (keccak256(spotifyTrackId, segmentStartMs))","spotifyTrackId":"Spotify track ID","startMs":"Line start time (absolute, from track start)","wordCount":"Number of words"}},"emitLineUpdated(bytes32,uint32,uint32,string,uint8,string)":{"params":{"endMs":"Updated end time","lineId":"Stable UUID (doesn't change across updates)","metadataUri":"Updated Grove URI","originalText":"Updated text","startMs":"Updated start time","wordCount":"Updated word count"}},"getLineId(bytes32)":{"params":{"uuidBytes":"UUID as bytes32"},"returns":{"_0":"Line ID (keccak256 of UUID)"}}},"version":1},"userdoc":{"kind":"user","methods":{"emitLineRegistered(bytes32,bytes32,string,uint16,uint32,uint32,string,uint8,string)":{"notice":"Emit line registration event"},"emitLineUpdated(bytes32,uint32,uint32,string,uint8,string)":{"notice":"Emit line update event (when re-processing improves timing)"},"getLineId(bytes32)":{"notice":"Helper: Generate line ID from Neon DB UUID"}},"version":1}},"settings":{"remappings":["era-contracts/=lib/era-contracts/","forge-std/=lib/forge-std/src/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/events/LineEvents.sol":"LineEvents"},"evmVersion":"paris","libraries":{}},"sources":{"src/events/LineEvents.sol":{"keccak256":"0xb615ed46eebc18c9e2ba8d2ab840828579068f51697a671205ca846f117fcb6f","urls":["bzz-raw://78e443cb0e909e9619878e4e2cb8d833aa99dedb9f38cdc1d71a0c4c8ce0dd56","dweb:/ipfs/QmbzzjAK8p8U9oZfYg28SaGtAmiW1MW9F3jGtfKCuczJy9"],"license":"MIT"}},"version":1},"id":0}