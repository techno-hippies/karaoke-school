specVersion: 1.0.0
indexerHints:
  prune: auto
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum
    name: KaraokeEvents
    network: lens-testnet
    source:
      address: "0x51aA6987130AA7E4654218859E075D8e790f4409"
      abi: KaraokeEvents
      startBlock: 4000000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - Clip
        - Performance
        - GlobalStats
      abis:
        - name: KaraokeEvents
          file: ./abis/KaraokeEvents.json
      eventHandlers:
        - event: ClipRegistered(indexed bytes32,string,string,uint32,uint32,string,indexed address,uint64)
          handler: handleClipRegistered
        - event: ClipProcessed(indexed bytes32,string,string,uint8,string,uint64)
          handler: handleClipProcessed
        - event: SongEncrypted(indexed bytes32,string,string,string,address,uint32,string,uint64)
          handler: handleSongEncrypted
        - event: ClipToggled(indexed bytes32,bool,uint64)
          handler: handleClipToggled
        - event: KaraokePerformanceGraded(indexed uint256,indexed bytes32,string,indexed address,string,uint16,uint16,string,string,uint64)
          handler: handleKaraokePerformanceGraded
      file: ./src/mappings.ts

  - kind: ethereum
    name: TranslationEvents
    network: lens-testnet
    source:
      address: "0x4aE979A4f115d734670403e644d83d4C695f9c58"
      abi: TranslationEvents
      startBlock: 4000000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - Translation
        - Clip
        - GlobalStats
      abis:
        - name: TranslationEvents
          file: ./abis/TranslationEvents.json
      eventHandlers:
        - event: TranslationAdded(indexed bytes32,string,string,string,uint16,bool,indexed address,uint64)
          handler: handleTranslationAdded
        - event: TranslationUpdated(indexed bytes32,string,string,bool,indexed address,uint64)
          handler: handleTranslationUpdated
        - event: TranslationToggled(indexed bytes32,string,bool,uint64)
          handler: handleTranslationToggled
      file: ./src/mappings.ts

  - kind: ethereum
    name: PerformanceGrader
    network: lens-testnet
    source:
      address: "0x5da966F19bD1a67D6AAda68b338e4B336CeA5aE8"
      abi: PerformanceGrader
      startBlock: 4189480
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - Performance
        - LinePerformance
        - Clip
        - Account
        - GlobalStats
      abis:
        - name: PerformanceGrader
          file: ./abis/PerformanceGrader.json
      eventHandlers:
        - event: PerformanceGraded(indexed uint256,indexed bytes32,indexed address,uint16,string,uint64)
          handler: handlePerformanceGraded
        - event: LinePerformanceGraded(indexed uint256,indexed bytes32,indexed bytes32,uint16,address,uint16,string,uint64)
          handler: handleLinePerformanceGraded
        - event: PerformanceSubmitted(indexed uint256,indexed bytes32,indexed address,string,uint64)
          handler: handlePerformanceSubmitted
      file: ./src/mappings.ts

  - kind: ethereum
    name: ExerciseEvents
    network: lens-testnet
    source:
      address: "0xcB2b397E02b50A0eeCecb922bb76aBE46DFb7832"
      abi: ExerciseEvents
      startBlock: 4193688
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - ExerciseCard
        - ExerciseAttempt
        - LineCard
        - Clip
        - Account
        - GlobalStats
      abis:
        - name: ExerciseEvents
          file: ./abis/ExerciseEvents.json
      eventHandlers:
        - event: TranslationQuestionRegistered(indexed bytes32,indexed bytes32,indexed bytes32,string,uint16,string,string,uint16,address,uint64)
          handler: handleTranslationQuestionRegistered
        - event: TriviaQuestionRegistered(indexed bytes32,indexed string,string,string,uint16,indexed address,uint64)
          handler: handleTriviaQuestionRegistered
        - event: SayItBackAttemptGraded(indexed uint256,indexed bytes32,indexed bytes32,uint16,address,uint16,uint8,string,uint64)
          handler: handleSayItBackAttemptGraded
        - event: MultipleChoiceAttemptGraded(indexed uint256,indexed bytes32,indexed address,uint16,uint8,string,uint64)
          handler: handleMultipleChoiceAttemptGraded
        - event: QuestionToggled(indexed bytes32,bool,indexed address,uint64)
          handler: handleQuestionToggled
      file: ./src/mappings.ts

  - kind: ethereum
    name: AccountEvents
    network: lens-testnet
    source:
      address: "0xb31b8abB319Ee6AB6f0706E0086bEa310E25da22"
      abi: AccountEvents
      startBlock: 4000000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - Account
        - GlobalStats
      abis:
        - name: AccountEvents
          file: ./abis/AccountEvents.json
      eventHandlers:
        - event: AccountCreated(indexed address,indexed address,string,string,uint32,uint64)
          handler: handleAccountCreated
        - event: AccountMetadataUpdated(indexed address,string,indexed address,uint64)
          handler: handleAccountMetadataUpdated
        - event: AccountVerified(indexed address,bool,indexed address,uint64)
          handler: handleAccountVerified
      file: ./src/mappings.ts
